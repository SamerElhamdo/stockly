# Stockly MCP Server
## Ù…Ø­Ø§Ø³Ø¨ Ø°ÙƒÙŠ Ù„Ù†Ø¸Ø§Ù… Stockly

Ø®Ø§Ø¯Ù… MCP (Model Context Protocol) ÙŠÙˆÙØ± Ø£Ø¯ÙˆØ§Øª Ù…Ø­Ø§Ø³Ø¨ÙŠØ© Ø°ÙƒÙŠØ© Ù„Ù†Ø¸Ø§Ù… StocklyØŒ ÙŠÙ…ÙƒÙ† Ù„Ù„Ù€ n8n AI Agent Ø§Ù„ØªÙØ§Ø¹Ù„ Ù…Ø¹Ù‡Ø§.

## Ø§Ù„Ù…Ù…ÙŠØ²Ø§Øª

- ğŸ§® **Ø£Ø¯ÙˆØ§Øª Ù…Ø­Ø§Ø³Ø¨ÙŠØ© Ø´Ø§Ù…Ù„Ø©**: ÙÙˆØ§ØªÙŠØ±ØŒ Ø¹Ù…Ù„Ø§Ø¡ØŒ Ù…Ù†ØªØ¬Ø§ØªØŒ Ù…Ø¯ÙÙˆØ¹Ø§Øª
- ğŸ¤– **ØªÙƒØ§Ù…Ù„ Ù…Ø¹ n8n AI Agent**: Ø¯Ø¹Ù… ÙƒØ§Ù…Ù„ Ù„Ø¨Ø±ÙˆØªÙˆÙƒÙˆÙ„ MCP
- ğŸ”’ **Ø£Ù…Ø§Ù† Ù…ØªÙ‚Ø¯Ù…**: Ù…ØµØ§Ø¯Ù‚Ø© API Token
- ğŸ“Š **ØªÙ‚Ø§Ø±ÙŠØ± Ø°ÙƒÙŠØ©**: Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª ÙˆØªØ­Ù„ÙŠÙ„Ø§Øª Ù…Ø§Ù„ÙŠØ©
- ğŸŒ **Ø¯Ø¹Ù… Ø§Ù„Ù„ØºØ© Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©**: ÙˆØ§Ø¬Ù‡Ø© ÙˆØ±Ø³Ø§Ø¦Ù„ Ø¨Ø§Ù„Ù„ØºØ© Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©
- âš¡ **Ø£Ø¯Ø§Ø¡ Ø¹Ø§Ù„ÙŠ**: Ù…Ø¹Ø§Ù„Ø¬Ø© Ø³Ø±ÙŠØ¹Ø© Ù„Ù„Ø·Ù„Ø¨Ø§Øª

## Ø§Ù„ØªØ«Ø¨ÙŠØª

### 1. ØªØ«Ø¨ÙŠØª Ø§Ù„Ù…ØªØ·Ù„Ø¨Ø§Øª

```bash
cd mcp_server
pip install -r requirements.txt
```

### 2. Ø¥Ø¹Ø¯Ø§Ø¯ Ù…ØªØºÙŠØ±Ø§Øª Ø§Ù„Ø¨ÙŠØ¦Ø©

```bash
# Ø§Ù†Ø³Ø® Ù…Ù„Ù Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª
cp .env.example .env

# Ø¹Ø¯Ù‘Ù„ Ø§Ù„Ù‚ÙŠÙ… Ø§Ù„Ù…Ø·Ù„ÙˆØ¨Ø©
nano .env
```

### 3. Ø§Ù„Ø­ØµÙˆÙ„ Ø¹Ù„Ù‰ API Token

1. Ø´ØºÙ‘Ù„ Django server:
```bash
cd ..
python manage.py runserver
```

2. Ø§Ø°Ù‡Ø¨ Ø¥Ù„Ù‰ Django Admin:
```
http://localhost:8000/admin/
```

3. Ø§Ø°Ù‡Ø¨ Ø¥Ù„Ù‰ "Tokens" ÙˆØ£Ù†Ø´Ø¦ token Ø¬Ø¯ÙŠØ¯

4. Ø¶Ø¹ Ø§Ù„Ù€ token ÙÙŠ Ù…Ù„Ù `.env`:
```env
API_TOKEN=your_token_here
```

## Ø§Ù„ØªØ´ØºÙŠÙ„

### ØªØ´ØºÙŠÙ„ Ø¹Ø§Ø¯ÙŠ

```bash
python run_server.py
```

### ØªØ´ØºÙŠÙ„ ÙÙŠ ÙˆØ¶Ø¹ Ø§Ù„ØªØµØ­ÙŠØ­

```bash
python run_server.py --debug
```

### ÙØ­Øµ Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª ÙÙ‚Ø·

```bash
python run_server.py --check
```

### Ø§Ø³ØªØ®Ø¯Ø§Ù… Ù…Ù„Ù Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ù…Ø®ØµØµ

```bash
python run_server.py --config my_config.env
```

## Ø§Ù„Ø£Ø¯ÙˆØ§Øª Ø§Ù„Ù…ØªØ§Ø­Ø©

### Ø£Ø¯ÙˆØ§Øª Ø§Ù„ÙÙˆØ§ØªÙŠØ±
- `create_invoice` - Ø¥Ù†Ø´Ø§Ø¡ ÙØ§ØªÙˆØ±Ø© Ø¬Ø¯ÙŠØ¯Ø©
- `get_invoice` - Ø§Ù„Ø­ØµÙˆÙ„ Ø¹Ù„Ù‰ ØªÙØ§ØµÙŠÙ„ Ø§Ù„ÙØ§ØªÙˆØ±Ø©
- `add_item_to_invoice` - Ø¥Ø¶Ø§ÙØ© Ù…Ù†ØªØ¬ Ù„Ù„ÙØ§ØªÙˆØ±Ø©
- `confirm_invoice` - ØªØ£ÙƒÙŠØ¯ Ø§Ù„ÙØ§ØªÙˆØ±Ø©
- `get_recent_invoices` - Ø§Ù„ÙÙˆØ§ØªÙŠØ± Ø§Ù„Ø£Ø®ÙŠØ±Ø©
- `search_invoices` - Ø§Ù„Ø¨Ø­Ø« ÙÙŠ Ø§Ù„ÙÙˆØ§ØªÙŠØ±

### Ø£Ø¯ÙˆØ§Øª Ø§Ù„Ø¹Ù…Ù„Ø§Ø¡
- `get_customers` - Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ø¹Ù…Ù„Ø§Ø¡
- `add_customer` - Ø¥Ø¶Ø§ÙØ© Ø¹Ù…ÙŠÙ„ Ø¬Ø¯ÙŠØ¯
- `update_customer` - ØªØ­Ø¯ÙŠØ« Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø¹Ù…ÙŠÙ„
- `get_customer_balance` - Ø±ØµÙŠØ¯ Ø§Ù„Ø¹Ù…ÙŠÙ„
- `get_customer_payments` - Ù…Ø¯ÙÙˆØ¹Ø§Øª Ø§Ù„Ø¹Ù…ÙŠÙ„
- `get_customer_invoices` - ÙÙˆØ§ØªÙŠØ± Ø§Ù„Ø¹Ù…ÙŠÙ„

### Ø£Ø¯ÙˆØ§Øª Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª
- `get_products` - Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª
- `add_product` - Ø¥Ø¶Ø§ÙØ© Ù…Ù†ØªØ¬ Ø¬Ø¯ÙŠØ¯
- `update_product` - ØªØ­Ø¯ÙŠØ« Ø§Ù„Ù…Ù†ØªØ¬
- `update_product_stock` - ØªØ­Ø¯ÙŠØ« Ø§Ù„Ù…Ø®Ø²ÙˆÙ†

### Ø£Ø¯ÙˆØ§Øª Ø§Ù„ÙØ¦Ø§Øª
- `get_categories` - Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„ÙØ¦Ø§Øª
- `add_category` - Ø¥Ø¶Ø§ÙØ© ÙØ¦Ø© Ø¬Ø¯ÙŠØ¯Ø©
- `update_category` - ØªØ­Ø¯ÙŠØ« Ø§Ù„ÙØ¦Ø©

### Ø£Ø¯ÙˆØ§Øª Ø§Ù„Ù…Ø¯ÙÙˆØ¹Ø§Øª
- `create_payment` - Ø¥Ù†Ø´Ø§Ø¡ Ø¯ÙØ¹Ø© Ø¬Ø¯ÙŠØ¯Ø©
- `get_payments` - Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ù…Ø¯ÙÙˆØ¹Ø§Øª
- `get_invoice_payments` - Ù…Ø¯ÙÙˆØ¹Ø§Øª Ø§Ù„ÙØ§ØªÙˆØ±Ø©

### Ø£Ø¯ÙˆØ§Øª Ø§Ù„ØªÙ‚Ø§Ø±ÙŠØ±
- `get_dashboard_stats` - Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª Ù„ÙˆØ­Ø© Ø§Ù„ØªØ­ÙƒÙ…
- `get_sales_report` - ØªÙ‚Ø±ÙŠØ± Ø§Ù„Ù…Ø¨ÙŠØ¹Ø§Øª
- `get_inventory_report` - ØªÙ‚Ø±ÙŠØ± Ø§Ù„Ù…Ø®Ø²ÙˆÙ†
- `get_customer_balances_report` - ØªÙ‚Ø±ÙŠØ± Ø£Ø±ØµØ¯Ø© Ø§Ù„Ø¹Ù…Ù„Ø§Ø¡

### Ø£Ø¯ÙˆØ§Øª Ø§Ù„Ù…Ø±ØªØ¬Ø¹Ø§Øª
- `create_return` - Ø¥Ù†Ø´Ø§Ø¡ Ù…Ø±ØªØ¬Ø¹
- `get_returns` - Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ù…Ø±ØªØ¬Ø¹Ø§Øª
- `get_return_details` - ØªÙØ§ØµÙŠÙ„ Ø§Ù„Ù…Ø±ØªØ¬Ø¹
- `approve_return` - Ø§Ù„Ù…ÙˆØ§ÙÙ‚Ø© Ø¹Ù„Ù‰ Ø§Ù„Ù…Ø±ØªØ¬Ø¹
- `reject_return` - Ø±ÙØ¶ Ø§Ù„Ù…Ø±ØªØ¬Ø¹
- `get_invoice_returnable_items` - Ø§Ù„Ø¹Ù†Ø§ØµØ± Ø§Ù„Ù‚Ø§Ø¨Ù„Ø© Ù„Ù„Ø§Ø³ØªØ±Ø¯Ø§Ø¯

### Ø£Ø¯ÙˆØ§Øª Ù…Ø³Ø§Ø¹Ø¯Ø©
- `get_system_info` - Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„Ù†Ø¸Ø§Ù…
- `health_check` - ÙØ­Øµ ØµØ­Ø© Ø§Ù„Ù†Ø¸Ø§Ù…

## Ø§Ù„ØªÙƒØ§Ù…Ù„ Ù…Ø¹ n8n

### 1. Ø¥Ø¹Ø¯Ø§Ø¯ MCP Client ÙÙŠ n8n

1. Ø£Ø¶Ù Ø¹Ù‚Ø¯Ø© "MCP Client Tool" ÙÙŠ n8n
2. Ø§Ø¶Ø¨Ø· Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª:
   - **Server URL**: `http://localhost:3001` (Ø£Ùˆ Ø§Ù„Ù…Ù†ÙØ° Ø§Ù„Ù…Ø®ØµØµ)
   - **Tools**: Ø§Ø®ØªØ± Ø§Ù„Ø£Ø¯ÙˆØ§Øª Ø§Ù„Ù…Ø·Ù„ÙˆØ¨Ø©

### 2. Ø§Ø³ØªØ®Ø¯Ø§Ù… ÙÙŠ Ø³ÙŠØ± Ø§Ù„Ø¹Ù…Ù„

```javascript
// Ù…Ø«Ø§Ù„ Ø¹Ù„Ù‰ Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø£Ø¯Ø§Ø© Ø¥Ù†Ø´Ø§Ø¡ ÙØ§ØªÙˆØ±Ø©
const invoiceData = {
  customer_name: "Ø¹Ù…ÙŠÙ„ Ø¬Ø¯ÙŠØ¯",
  // ... Ø¨ÙŠØ§Ù†Ø§Øª Ø£Ø®Ø±Ù‰
};

const result = await mcpClient.callTool('create_invoice', invoiceData);
```

## Ø§Ø³ØªÙƒØ´Ø§Ù Ø§Ù„Ø£Ø®Ø·Ø§Ø¡

### Ù…Ø´Ø§ÙƒÙ„ Ø´Ø§Ø¦Ø¹Ø©

1. **Ø®Ø·Ø£ ÙÙŠ Ø§Ù„Ø§ØªØµØ§Ù„ Ø¨Ù€ Django**:
   - ØªØ£ÙƒØ¯ Ù…Ù† ØªØ´ØºÙŠÙ„ Django server
   - ØªØ­Ù‚Ù‚ Ù…Ù† ØµØ­Ø© API Token
   - ØªØ£ÙƒØ¯ Ù…Ù† ØµØ­Ø© DJANGO_BASE_URL

2. **Ø®Ø·Ø£ ÙÙŠ Ø§Ù„Ù…ØµØ§Ø¯Ù‚Ø©**:
   - ØªØ­Ù‚Ù‚ Ù…Ù† ØµØ­Ø© API Token
   - ØªØ£ÙƒØ¯ Ù…Ù† ØµÙ„Ø§Ø­ÙŠØ§Øª Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…

3. **Ø®Ø·Ø£ ÙÙŠ Ø§Ù„Ø£Ø¯ÙˆØ§Øª**:
   - ØªØ­Ù‚Ù‚ Ù…Ù† Ø§Ù„Ø³Ø¬Ù„Ø§Øª ÙÙŠ `mcp_server.log`
   - Ø§Ø³ØªØ®Ø¯Ù… `--debug` Ù„Ù„ØªØ´ØºÙŠÙ„ Ø§Ù„Ù…ÙØµÙ„

### ÙØ­Øµ Ø§Ù„Ø³Ø¬Ù„Ø§Øª

```bash
# Ø¹Ø±Ø¶ Ø§Ù„Ø³Ø¬Ù„Ø§Øª
tail -f mcp_server.log

# Ø¹Ø±Ø¶ Ø§Ù„Ø³Ø¬Ù„Ø§Øª Ù…Ø¹ Ø§Ù„ØªØµÙÙŠØ©
grep "ERROR" mcp_server.log
```

## Ø§Ù„ØªØ·ÙˆÙŠØ±

### Ø¥Ø¶Ø§ÙØ© Ø£Ø¯Ø§Ø© Ø¬Ø¯ÙŠØ¯Ø©

1. Ø£Ø¶Ù Ø§Ù„Ø¯Ø§Ù„Ø© ÙÙŠ `mcp_server.py`:
```python
def my_new_tool(self, param1: str, param2: int) -> Dict:
    """ÙˆØµÙ Ø§Ù„Ø£Ø¯Ø§Ø© Ø§Ù„Ø¬Ø¯ÙŠØ¯Ø©"""
    # ØªÙ†ÙÙŠØ° Ø§Ù„Ø£Ø¯Ø§Ø©
    return self._make_request('POST', '/api/my-endpoint/', {
        'param1': param1,
        'param2': param2
    })
```

2. Ø³Ø¬Ù„ Ø§Ù„Ø£Ø¯Ø§Ø© ÙÙŠ `register_all_tools()`:
```python
self.mcp.tool()(self.my_new_tool)
```

### Ø§Ø®ØªØ¨Ø§Ø± Ø§Ù„Ø£Ø¯ÙˆØ§Øª

```python
# Ø§Ø®ØªØ¨Ø§Ø± Ù…Ø­Ù„ÙŠ
from mcp_server import StocklyMCPTools
from mcp_server.config import StocklyMCPConfig

config = StocklyMCPConfig()
server = StocklyMCPTools(config)

# Ø§Ø®ØªØ¨Ø§Ø± Ø£Ø¯Ø§Ø©
result = server.create_invoice("Ø¹Ù…ÙŠÙ„ ØªØ¬Ø±ÙŠØ¨ÙŠ")
print(result)
```

## Ø§Ù„Ù…Ø³Ø§Ù‡Ù…Ø©

1. Fork Ø§Ù„Ù…Ø´Ø±ÙˆØ¹
2. Ø£Ù†Ø´Ø¦ branch Ø¬Ø¯ÙŠØ¯ (`git checkout -b feature/amazing-feature`)
3. Commit Ø§Ù„ØªØºÙŠÙŠØ±Ø§Øª (`git commit -m 'Add amazing feature'`)
4. Push Ø¥Ù„Ù‰ Branch (`git push origin feature/amazing-feature`)
5. Ø£Ù†Ø´Ø¦ Pull Request

## Ø§Ù„ØªØ±Ø®ÙŠØµ

Ù‡Ø°Ø§ Ø§Ù„Ù…Ø´Ø±ÙˆØ¹ Ù…Ø±Ø®Øµ ØªØ­Øª Ø±Ø®ØµØ© MIT - Ø±Ø§Ø¬Ø¹ Ù…Ù„Ù [LICENSE](LICENSE) Ù„Ù„ØªÙØ§ØµÙŠÙ„.

## Ø§Ù„Ø¯Ø¹Ù…

Ù„Ù„Ø­ØµÙˆÙ„ Ø¹Ù„Ù‰ Ø§Ù„Ø¯Ø¹Ù…:
- Ø£Ù†Ø´Ø¦ issue ÙÙŠ GitHub
- Ø±Ø§Ø³Ù„Ù†Ø§ Ø¹Ù„Ù‰: support@stockly.com
- Ø±Ø§Ø¬Ø¹ Ø§Ù„ÙˆØ«Ø§Ø¦Ù‚: [docs.stockly.com](https://docs.stockly.com)

---

**ØªÙ… ØªØ·ÙˆÙŠØ±Ù‡ Ø¨Ù€ â¤ï¸ Ù„ÙØ±ÙŠÙ‚ Stockly**
